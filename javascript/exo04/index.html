<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Web Vulnaribility Exo</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>

<body>    
    <form>
        User: <input type="text" id="user" name="user">
        Password: <input type="text" id="pwd" name="pwd">
        <input type="button" onclick="Login()" value="login" name="button">
        <div id="err">

        </div>
    </form>
    <img src="https://img.20mn.fr/sIChN5W-TCG0VWSpGYJYLw/830x532_tous-trolls.jpg">
    <script type="text/javascript">
        function Login(){
        var login = document.getElementById("user").value;
        var pwd = document.getElementById("pwd").value;

        if (login == "Patoche") {
            document.getElementById("err").innerHTML = "Go away hacker !!!";
        } else if (login == "Me") {
            pwd = pwd.replace("7", "t");
            pwd = pwd.replace("0", "o");
            var sp = pwd.split("_");
            console.log(sp);
            if (sp[0][0] == "W" && sp[0][1] == "8" && sp[0][2] == "4" && sp[0][3] == "t" && sp[1][0] == "T" && sp[1][2] == "k" && sp[1][1] == (sp.length - sp.length + 3)){
                    var xhttp = new XMLHttpRequest();
                    var data;
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                            data = this.responseText;
                            console.log("data response", data);
                            var mdp = data.split("").reverse().join("");
                            console.log("mot de pass", mdp);
                        }
                    };
                    xhttp.open("GET", "http://localhost:8000/login.php", true);
                    xhttp.send();
            }
            
            else {
                document.getElementById("err").innerHTML = "Go away hacker V2!!!";
            }
        }
    }
    </script>
</body>
</html>